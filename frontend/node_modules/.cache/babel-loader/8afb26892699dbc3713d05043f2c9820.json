{"ast":null,"code":"import _slicedToArray from\"/Users/anastasiiaandreeva/Desktop/Yandex.Practikum/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PopupWithForm from\"./PopupWithForm\";import React,{useState,useEffect,useContext}from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EditProfilePopup(props){var userContext=useContext(CurrentUserContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];useEffect(function(){setName(userContext.name||'');setDescription(userContext.about||'');},[userContext,props.isOpen]);function handleChangeName(e){setName(e.target.value);}function handleChangeDescription(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nprops.onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsx(PopupWithForm,{onSubmit:handleSubmit,isOpen:props.isOpen,onClose:props.onClose,title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",name:\"edit-profile\",button:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{value:name,onChange:handleChangeName,type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\",name:\"name\",className:\"popup__input popup__input_field_name\",id:\"name-input\",required:true,minLength:\"2\",maxLength:\"40\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error-visible name-input-error\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{value:description,onChange:handleChangeDescription,type:\"text\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",name:\"about\",className:\"popup__input popup__input_field_about\",id:\"about-input\",required:true,minLength:\"2\",maxLength:\"200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error-visible about-input-error\"})]})]})});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/anastasiiaandreeva/Desktop/Yandex.Practikum/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["PopupWithForm","React","useState","useEffect","useContext","CurrentUserContext","EditProfilePopup","props","userContext","name","setName","description","setDescription","about","isOpen","handleChangeName","e","target","value","handleChangeDescription","handleSubmit","preventDefault","onUpdateUser","onClose"],"mappings":"6JAAA,MAAOA,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,UAApC,KAAqD,OAArD,CACA,OAAQC,kBAAR,KAAiC,gCAAjC,C,6IAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC/B,GAAMC,CAAAA,WAAW,CAAGJ,UAAU,CAACC,kBAAD,CAA9B,CACA,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAAsCR,QAAQ,CAAC,EAAD,CAA9C,yCAAOS,WAAP,eAAoBC,cAApB,eAEAT,SAAS,CAAC,UAAM,CACdO,OAAO,CAACF,WAAW,CAACC,IAAZ,EAAoB,EAArB,CAAP,CACAG,cAAc,CAACJ,WAAW,CAACK,KAAZ,EAAqB,EAAtB,CAAd,CACD,CAHQ,CAGN,CAACL,WAAD,CAAcD,KAAK,CAACO,MAApB,CAHM,CAAT,CAKA,QAASC,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CAC3BN,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAED,QAASC,CAAAA,uBAAT,CAAiCH,CAAjC,CAAoC,CAClCJ,cAAc,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACD,CAED,QAASE,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACvBA,CAAC,CAACK,cAAF,GACA;AACAd,KAAK,CAACe,YAAN,CAAmB,CACjBb,IAAI,CAAJA,IADiB,CAEjBI,KAAK,CAAEF,WAFU,CAAnB,EAID,CAED,mBACE,KAAC,aAAD,EAAe,QAAQ,CAAES,YAAzB,CACe,MAAM,CAAEb,KAAK,CAACO,MAD7B,CAEe,OAAO,CAAEP,KAAK,CAACgB,OAF9B,CAGe,KAAK,CAAC,2HAHrB,CAIe,IAAI,CAAC,cAJpB,CAKe,MAAM,CAAC,wDALtB,CAMe,QAAQ,cACrB,wCACE,eAAO,SAAS,CAAC,cAAjB,wBACE,cAAO,KAAK,CAAEd,IAAd,CAAoB,QAAQ,CAAEM,gBAA9B,CAAgD,IAAI,CAAC,MAArD,CAA4D,WAAW,CAAC,oBAAxE,CAA8E,IAAI,CAAC,MAAnF,CAA0F,SAAS,CAAC,sCAApG,CACO,EAAE,CAAC,YADV,CACuB,QAAQ,KAD/B,CACgC,SAAS,CAAC,GAD1C,CAC8C,SAAS,CAAC,IADxD,EADF,cAGE,aAAM,SAAS,CAAC,uCAAhB,EAHF,GADF,cAME,eAAO,SAAS,CAAC,cAAjB,wBACE,cAAO,KAAK,CAAEJ,WAAd,CAA2B,QAAQ,CAAEQ,uBAArC,CAA8D,IAAI,CAAC,MAAnE,CAA0E,WAAW,CAAC,iCAAtF,CAA+F,IAAI,CAAC,OAApG,CAA4G,SAAS,CAAC,uCAAtH,CACO,EAAE,CAAC,aADV,CACwB,QAAQ,KADhC,CACiC,SAAS,CAAC,GAD3C,CAC+C,SAAS,CAAC,KADzD,EADF,cAGE,aAAM,SAAS,CAAC,wCAAhB,EAHF,GANF,GAPF,EADF,CAuBD,CAED,cAAeb,CAAAA,gBAAf","sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\nimport React, {useState, useEffect, useContext} from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const userContext = useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    setName(userContext.name || '');\n    setDescription(userContext.about || '');\n  }, [userContext, props.isOpen]);\n\n  function handleChangeName(e) {\n    setName(e.target.value)\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return(\n    <PopupWithForm onSubmit={handleSubmit}\n                   isOpen={props.isOpen}\n                   onClose={props.onClose}\n                   title=\"Редактировать профиль\"\n                   name=\"edit-profile\"\n                   button=\"Сохранить\"\n                   children={(\n      <>\n        <label className=\"popup__field\">\n          <input value={name} onChange={handleChangeName} type=\"text\" placeholder=\"Имя\" name=\"name\" className=\"popup__input popup__input_field_name\"\n                 id=\"name-input\" required minLength=\"2\" maxLength=\"40\"/>\n          <span className=\"popup__error-visible name-input-error\"/>\n        </label>\n        <label className=\"popup__field\">\n          <input value={description} onChange={handleChangeDescription} type=\"text\" placeholder=\"О себе\" name=\"about\" className=\"popup__input popup__input_field_about\"\n                 id=\"about-input\" required minLength=\"2\" maxLength=\"200\"/>\n          <span className=\"popup__error-visible about-input-error\"/>\n        </label>\n      </>\n    )}\n    />\n  )\n}\n\nexport default EditProfilePopup;\n"]},"metadata":{},"sourceType":"module"}